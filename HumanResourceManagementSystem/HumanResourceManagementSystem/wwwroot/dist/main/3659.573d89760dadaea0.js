"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[3659],{3659:(Or,Tt,a)=>{a.d(Tt,{u:()=>Er,d:()=>Cr});var A=a(5861),g=a(4650),S=a(1999),Z=a(5946);const N=function(){return Z.Z.Date.now()};var Ct=/\s/;var Ot=/^\s+/;const wt=function At(t){return t&&t.slice(0,function St(t){for(var n=t.length;n--&&Ct.test(t.charAt(n)););return n}(t)+1).replace(Ot,"")};var M=a(7079),w=a(214);var jt=/^[-+]0x[0-9a-f]+$/i,Ft=/^0b[01]+$/i,Nt=/^0o[0-7]+$/i,Mt=parseInt;const J=function Pt(t){if("number"==typeof t)return t;if(function Dt(t){return"symbol"==typeof t||(0,w.Z)(t)&&"[object Symbol]"==(0,M.Z)(t)}(t))return NaN;if((0,S.Z)(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=(0,S.Z)(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=wt(t);var e=Ft.test(t);return e||Nt.test(t)?Mt(t.slice(2),e?2:8):jt.test(t)?NaN:+t};var Lt=Math.max,Rt=Math.min;const Gt=function Vt(t,n,e){var r=!0,o=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return(0,S.Z)(e)&&(r="leading"in e?!!e.leading:r,o="trailing"in e?!!e.trailing:o),function Bt(t,n,e){var r,o,i,s,h,d,c=0,p=!1,f=!1,E=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function C(u){var v=r,O=o;return r=o=void 0,c=u,s=t.apply(O,v)}function b(u){var v=u-d;return void 0===d||v>=n||v<0||f&&u-c>=i}function y(){var u=N();if(b(u))return vt(u);h=setTimeout(y,function F(u){var _t=n-(u-d);return f?Rt(_t,i-(u-c)):_t}(u))}function vt(u){return h=void 0,E&&r?C(u):(r=o=void 0,s)}function X(){var u=N(),v=b(u);if(r=arguments,o=this,d=u,v){if(void 0===h)return function Y(u){return c=u,h=setTimeout(y,n),p?C(u):s}(d);if(f)return clearTimeout(h),h=setTimeout(y,n),C(d)}return void 0===h&&(h=setTimeout(y,n)),s}return n=J(n)||0,(0,S.Z)(e)&&(p=!!e.leading,i=(f="maxWait"in e)?Lt(J(e.maxWait)||0,n):i,E="trailing"in e?!!e.trailing:E),X.cancel=function Sr(){void 0!==h&&clearTimeout(h),c=0,r=d=o=h=void 0},X.flush=function Zr(){return void 0===h?s:vt(N())},X}(t,n,{leading:r,maxWait:n,trailing:o})};var Ht=a(1740);var $t=a(6198),x=a(3276),Jt=a(3487),Qt=a(1986);const qt=(0,a(5820).Z)(Object.keys,Object);var ee=Object.prototype.hasOwnProperty;var oe=a(8706);const P=function ie(t){return(0,oe.Z)(t)?(0,Jt.Z)(t):function ne(t){if(!(0,Qt.Z)(t))return qt(t);var n=[];for(var e in Object(t))ee.call(t,e)&&"constructor"!=e&&n.push(e);return n}(t)};var W=a(571);var le=a(634),he=a(8297);const Q=function ge(){return[]};var ye=Object.prototype.propertyIsEnumerable,z=Object.getOwnPropertySymbols;const L=z?function(t){return null==t?[]:(t=Object(t),function ue(t,n){for(var e=-1,r=null==t?0:t.length,o=0,i=[];++e<r;){var s=t[e];n(s,e,t)&&(i[o++]=s)}return i}(z(t),function(n){return ye.call(t,n)}))}:Q,k=function _e(t,n){for(var e=-1,r=n.length,o=t.length;++e<r;)t[o+e]=n[e];return t};var Te=a(5650);const q=Object.getOwnPropertySymbols?function(t){for(var n=[];t;)k(n,L(t)),t=(0,Te.Z)(t);return n}:Q;var tt=a(4177);const et=function Oe(t,n,e){var r=n(t);return(0,tt.Z)(t)?r:k(r,e(t))},we=function Ae(t){return et(t,P,L)},De=function xe(t){return et(t,W.Z,q)};var D=a(3858);const R=(0,D.Z)(Z.Z,"DataView");var B=a(9329);const K=(0,D.Z)(Z.Z,"Promise"),U=(0,D.Z)(Z.Z,"Set"),V=(0,D.Z)(Z.Z,"WeakMap");var T=a(4407),nt="[object Map]",rt="[object Promise]",ot="[object Set]",it="[object WeakMap]",st="[object DataView]",Pe=(0,T.Z)(R),We=(0,T.Z)(B.Z),Le=(0,T.Z)(K),Re=(0,T.Z)(U),Be=(0,T.Z)(V),_=M.Z;(R&&_(new R(new ArrayBuffer(1)))!=st||B.Z&&_(new B.Z)!=nt||K&&_(K.resolve())!=rt||U&&_(new U)!=ot||V&&_(new V)!=it)&&(_=function(t){var n=(0,M.Z)(t),e="[object Object]"==n?t.constructor:void 0,r=e?(0,T.Z)(e):"";if(r)switch(r){case Pe:return st;case We:return nt;case Le:return rt;case Re:return ot;case Be:return it}return n});const G=_;var Ue=Object.prototype.hasOwnProperty;var at=a(3164);var Xe=/\w*$/;var ct=a(8492),dt=ct.Z?ct.Z.prototype:void 0,lt=dt?dt.valueOf:void 0;var ke=a(9376);const _n=function vn(t,n,e){var r=t.constructor;switch(n){case"[object ArrayBuffer]":return(0,at.Z)(t);case"[object Boolean]":case"[object Date]":return new r(+t);case"[object DataView]":return function He(t,n){var e=n?(0,at.Z)(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.byteLength)}(t,e);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return(0,ke.Z)(t,e);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(t);case"[object RegExp]":return function $e(t){var n=new t.constructor(t.source,Xe.exec(t));return n.lastIndex=t.lastIndex,n}(t);case"[object Symbol]":return function Qe(t){return lt?Object(lt.call(t)):{}}(t)}};var Tn=a(3121),En=a(5202);var ht=a(6932),I=a(6594),ut=I.Z&&I.Z.isMap;const An=ut?(0,ht.Z)(ut):function Sn(t){return(0,w.Z)(t)&&"[object Map]"==G(t)};var ft=I.Z&&I.Z.isSet;const jn=ft?(0,ht.Z)(ft):function xn(t){return(0,w.Z)(t)&&"[object Set]"==G(t)};var gt="[object Arguments]",mt="[object Function]",yt="[object Object]",l={};l[gt]=l["[object Array]"]=l["[object ArrayBuffer]"]=l["[object DataView]"]=l["[object Boolean]"]=l["[object Date]"]=l["[object Float32Array]"]=l["[object Float64Array]"]=l["[object Int8Array]"]=l["[object Int16Array]"]=l["[object Int32Array]"]=l["[object Map]"]=l["[object Number]"]=l[yt]=l["[object RegExp]"]=l["[object Set]"]=l["[object String]"]=l["[object Symbol]"]=l["[object Uint8Array]"]=l["[object Uint8ClampedArray]"]=l["[object Uint16Array]"]=l["[object Uint32Array]"]=!0,l["[object Error]"]=l[mt]=l["[object WeakMap]"]=!1;const ir=function j(t,n,e,r,o,i){var s,h=1&n,d=2&n,c=4&n;if(e&&(s=o?e(t,r,o,i):e(t)),void 0!==s)return s;if(!(0,S.Z)(t))return t;var p=(0,tt.Z)(t);if(p){if(s=function Ve(t){var n=t.length,e=new t.constructor(n);return n&&"string"==typeof t[0]&&Ue.call(t,"index")&&(e.index=t.index,e.input=t.input),e}(t),!h)return(0,he.Z)(t,s)}else{var f=G(t),E=f==mt||"[object GeneratorFunction]"==f;if((0,En.Z)(t))return(0,le.Z)(t,h);if(f==yt||f==gt||E&&!o){if(s=d||E?{}:(0,Tn.Z)(t),!h)return d?function Se(t,n){return(0,x.Z)(t,q(t),n)}(t,function ce(t,n){return t&&(0,x.Z)(n,(0,W.Z)(n),t)}(s,t)):function pe(t,n){return(0,x.Z)(t,L(t),n)}(t,function se(t,n){return t&&(0,x.Z)(n,P(n),t)}(s,t))}else{if(!l[f])return o?t:{};s=_n(t,f,h)}}i||(i=new Ht.Z);var C=i.get(t);if(C)return C;i.set(t,s),jn(t)?t.forEach(function(b){s.add(j(b,n,e,b,t,i))}):An(t)&&t.forEach(function(b,y){s.set(y,j(b,n,e,y,t,i))});var F=p?void 0:(c?d?De:we:d?W.Z:P)(t);return function Yt(t,n){for(var e=-1,r=null==t?0:t.length;++e<r&&!1!==n(t[e],e,t););}(F||t,function(b,y){F&&(b=t[y=b]),(0,$t.Z)(s,y,j(b,n,e,y,t,i))}),s};var lr=a(2031);function bt(t,n=new Set){const e=[t],r=new Set;let o=0;for(;e.length>o;){const i=e[o++];if(!(r.has(i)||fr(i)||n.has(i)))if(r.add(i),i[Symbol.iterator])try{for(const s of i)e.push(s)}catch{}else for(const s in i)"defaultValue"!==s&&e.push(i[s])}return r}function fr(t){const n=Object.prototype.toString.call(t),e=typeof t;return"number"===e||"boolean"===e||"string"===e||"symbol"===e||"function"===e||"[object Date]"===n||"[object RegExp]"===n||"[object Module]"===n||null==t||t instanceof EventTarget||t instanceof Event}class yr{constructor(n){if(this.crashes=[],this.state="initializing",this._crashNumberLimit="number"==typeof n.crashNumberLimit?n.crashNumberLimit:3,this._now=Date.now,this._minimumNonErrorTimePeriod="number"==typeof n.minimumNonErrorTimePeriod?n.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=e=>{const r=e.error||e.reason;r instanceof Error&&this._handleError(r,e)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}setCreator(n){this._creator=n}setDestructor(n){this._destructor=n}destroy(){this._stopErrorHandling(),this._listeners={}}on(n,e){this._listeners[n]||(this._listeners[n]=[]),this._listeners[n].push(e)}off(n,e){this._listeners[n]=this._listeners[n].filter(r=>r!==e)}_fire(n,...e){const r=this._listeners[n]||[];for(const o of r)o.apply(this,[null,...e])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(n,e){if(this._shouldReactToError(n)){this.crashes.push({message:n.message,stack:n.stack,filename:e.filename,lineno:e.lineno,colno:e.colno,date:this._now()});const r=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:n,causesRestart:r}),r?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(n){return n.is&&n.is("CKEditorError")&&null!=n.context&&"ready"===this.state&&this._isErrorComingFromThisItem(n)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit||(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}class br extends yr{constructor(n,e={}){super(e),this._editor=null,this._throttledSave=Gt(this._save.bind(this),"number"==typeof e.saveInterval?e.saveInterval:5e3),this._creator=(r,o)=>n.create(r,o),this._destructor=r=>r.destroy()}get editor(){return this._editor}get _item(){return this._editor}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(n=>{console.error("An error happened during the editor destroying.",n)}).then(()=>{if("string"==typeof this._elementOrData)return this.create(this._data,this._config,this._config.context);{const n=Object.assign({},this._config,{initialData:this._data});return this.create(this._elementOrData,n,n.context)}}).then(()=>{this._fire("restart")})}create(n=this._elementOrData,e=this._config,r){return Promise.resolve().then(()=>(super._startErrorHandling(),this._elementOrData=n,this._config=this._cloneEditorConfiguration(e)||{},this._config.context=r,this._creator(n,this._config))).then(o=>{this._editor=o,o.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=o.model.document.version,this._data=this._getData(),this.state="ready",this._fire("stateChange")})}destroy(){return Promise.resolve().then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.flush();const n=this._editor;return this._editor=null,n.model.document.off("change:data",this._throttledSave),this._destructor(n)})}_save(){const n=this._editor.model.document.version;try{this._data=this._getData(),this._lastDocumentVersion=n}catch(e){console.error(e,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(n){this._excludedProps=n}_getData(){const n={};for(const e of this._editor.model.document.getRootNames())n[e]=this._editor.data.get({rootName:e});return n}_isErrorComingFromThisItem(n){return function gr(t,n,e=new Set){if(t===n&&function mr(t){return"object"==typeof t&&null!==t}(t))return!0;const r=bt(t,e),o=bt(n,e);for(const i of r)if(o.has(i))return!0;return!1}(this._editor,n.context,this._excludedProps)}_cloneEditorConfiguration(n){return function cr(t,n){return ir(t,5,n="function"==typeof n?n:void 0)}(n,(e,r)=>{if(function hr(t){return(0,w.Z)(t)&&1===t.nodeType&&!(0,lr.Z)(t)}(e)||"context"===r)return e})}}var pr=a(590),pt=a(4006),vr=a(6895);function _r(t,n){}const m=new Array(256).fill(0).map((t,n)=>("0"+n.toString(16)).slice(-2)),H="Lock from Angular integration (@ckeditor/ckeditor5-angular)";let Er=(()=>{class t{constructor(e,r){this.config={},this.data="",this.tagName="div",this.disableTwoWayDataBinding=!1,this.ready=new g.vpe,this.change=new g.vpe,this.blur=new g.vpe,this.focus=new g.vpe,this.error=new g.vpe,this.initiallyDisabled=!1,this.isEditorSettingData=!1,this.id=function Tr(){const t=4294967296*Math.random()>>>0,n=4294967296*Math.random()>>>0,e=4294967296*Math.random()>>>0,r=4294967296*Math.random()>>>0;return"e"+m[t>>0&255]+m[t>>8&255]+m[t>>16&255]+m[t>>24&255]+m[n>>0&255]+m[n>>8&255]+m[n>>16&255]+m[n>>24&255]+m[e>>0&255]+m[e>>8&255]+m[e>>16&255]+m[e>>24&255]+m[r>>0&255]+m[r>>8&255]+m[r>>16&255]+m[r>>24&255]}(),this.ngZone=r,this.elementRef=e;const{CKEDITOR_VERSION:o}=window;if(o){const[i]=o.split(".").map(Number);i<34&&console.warn("The <CKEditor> component requires using CKEditor 5 in version 34 or higher.")}else console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.')}set disabled(e){this.setDisabledState(e)}get disabled(){return this.editorInstance?this.editorInstance.isReadOnly:this.initiallyDisabled}get editorInstance(){let e=this.editorWatchdog;return this.watchdog&&(e=this.watchdog._watchdogs.get(this.id)),e?e.editor:null}ngOnChanges(e){Object.prototype.hasOwnProperty.call(e,"data")&&e.data&&!e.data.isFirstChange()&&this.writeValue(e.data.currentValue)}ngAfterViewInit(){this.attachToWatchdog()}ngOnDestroy(){var e=this;return(0,A.Z)(function*(){e.watchdog?yield e.watchdog.remove(e.id):e.editorWatchdog&&e.editorWatchdog.editor&&(yield e.editorWatchdog.destroy(),e.editorWatchdog=void 0)})()}writeValue(e){null===e&&(e=""),this.editorInstance?(this.isEditorSettingData=!0,this.editorInstance.setData(e),this.isEditorSettingData=!1):(this.data=e,this.ready.pipe((0,pr.P)()).subscribe(r=>{r.setData(this.data)}))}registerOnChange(e){this.cvaOnChange=e}registerOnTouched(e){this.cvaOnTouched=e}setDisabledState(e){this.editorInstance&&(e?this.editorInstance.enableReadOnlyMode(H):this.editorInstance.disableReadOnlyMode(H)),this.initiallyDisabled=e}attachToWatchdog(){var e=this;const r=function(){var d=(0,A.Z)(function*(c,p){return e.ngZone.runOutsideAngular((0,A.Z)(function*(){e.elementRef.nativeElement.appendChild(c);const f=yield e.editor.create(c,p);return e.initiallyDisabled&&f.enableReadOnlyMode(H),e.ngZone.run(()=>{e.ready.emit(f)}),e.setUpEditorEvents(f),f}))});return function(p,f){return d.apply(this,arguments)}}(),o=function(){var d=(0,A.Z)(function*(c){yield c.destroy(),e.elementRef.nativeElement.removeChild(e.editorElement)});return function(p){return d.apply(this,arguments)}}(),i=()=>{this.ngZone.run(()=>{this.error.emit()})},s=document.createElement(this.tagName),h=this.getConfig();if(this.editorElement=s,this.watchdog)this.watchdog.add({id:this.id,type:"editor",creator:r,destructor:o,sourceElementOrData:s,config:h}),this.watchdog.on("itemError",(d,{itemId:c})=>{c===this.id&&i()});else{const d=new br(this.editor,this.editorWatchdogConfig);d.setCreator(r),d.setDestructor(o),d.on("error",i),this.editorWatchdog=d,this.editorWatchdog.create(s,h)}}getConfig(){if(this.data&&this.config.initialData)throw new Error("Editor data should be provided either using `config.initialData` or `data` properties.");const e={...this.config},r=this.config.initialData||this.data;return r&&(e.initialData=r),e}setUpEditorEvents(e){const o=e.editing.view.document;e.model.document.on("change:data",i=>{this.ngZone.run(()=>{if(!this.disableTwoWayDataBinding){if(this.cvaOnChange&&!this.isEditorSettingData){const s=e.getData();this.cvaOnChange(s)}this.change.emit({event:i,editor:e})}})}),o.on("focus",i=>{this.ngZone.run(()=>{this.focus.emit({event:i,editor:e})})}),o.on("blur",i=>{this.ngZone.run(()=>{this.cvaOnTouched&&this.cvaOnTouched(),this.blur.emit({event:i,editor:e})})})}}return t.\u0275fac=function(e){return new(e||t)(g.Y36(g.SBq),g.Y36(g.R0b))},t.\u0275cmp=g.Xpm({type:t,selectors:[["ckeditor"]],inputs:{editor:"editor",config:"config",data:"data",tagName:"tagName",watchdog:"watchdog",editorWatchdogConfig:"editorWatchdogConfig",disableTwoWayDataBinding:"disableTwoWayDataBinding",disabled:"disabled"},outputs:{ready:"ready",change:"change",blur:"blur",focus:"focus",error:"error"},features:[g._Bn([{provide:pt.JU,useExisting:(0,g.Gpc)(()=>t),multi:!0}]),g.TTD],decls:1,vars:0,template:function(e,r){1&e&&g.YNc(0,_r,0,0,"ng-template")},encapsulation:2}),t})(),Cr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=g.oAB({type:t}),t.\u0275inj=g.cJS({imports:[[pt.u5,vr.ez]]}),t})()}}]);