"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[4451],{4451:(Ht,Y,s)=>{s.r(Y),s.d(Y,{LeavesModule:()=>jt});var m=s(6895),d=s(4006),Q=s(9132),T=s(1135),Z=s(9186),e=s(4650),x=s(529);let L=(()=>{class t extends Z.n{constructor(a){super(),this.httpClient=a,this.API_URL="assets/data/leave-balance.json",this.isTblLoading=!0,this.dataChange=new T.X([])}get data(){return this.dataChange.value}getDialogData(){return this.dialogData}getAllLeavess(){this.subs.sink=this.httpClient.get(this.API_URL).subscribe({next:a=>{this.isTblLoading=!1,this.dataChange.next(a)},error:a=>{this.isTblLoading=!1,console.log(a.name+" "+a.message)}})}}return t.\u0275fac=function(a){return new(a||t)(e.LFG(x.eN))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})();var f=s(8739),_=s(6308),g=s(5017),U=s(4968),w=s(6451),N=s(4004),h=s(8255),p=s(5938),y=s(7009),c=s(671),D=s(1572),k=s(1299);const H=["filter"];function E(t,l){1&t&&(e.TgZ(0,"mat-header-cell",42),e._uU(1,"Id "),e.qZA())}function G(t,l){if(1&t&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&t){const a=l.$implicit;e.xp6(1),e.Oqu(a.id)}}function $(t,l){1&t&&(e.TgZ(0,"mat-header-cell",43),e._uU(1," Image "),e.qZA()),2&t&&e.Q6J("ngClass","tbl-col-width-per-6")}function z(t,l){if(1&t&&(e.TgZ(0,"mat-cell",44),e._UZ(1,"img",45),e.qZA()),2&t){const a=l.$implicit;e.xp6(1),e.Q6J("src",a.img,e.LSH)}}function P(t,l){1&t&&(e.TgZ(0,"mat-header-cell",42),e._uU(1,"Name "),e.qZA())}function X(t,l){if(1&t&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&t){const a=l.$implicit;e.xp6(1),e.hij(" ",a.name," ")}}function K(t,l){1&t&&(e.TgZ(0,"mat-header-cell",42),e._uU(1,"Previous Year "),e.qZA())}function W(t,l){if(1&t&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&t){const a=l.$implicit;e.xp6(1),e.hij(" ",a.prev," ")}}function V(t,l){1&t&&(e.TgZ(0,"mat-header-cell",42),e._uU(1,"Current Year "),e.qZA())}function ee(t,l){if(1&t&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&t){const a=l.$implicit;e.xp6(1),e.hij(" ",a.current," ")}}function te(t,l){1&t&&(e.TgZ(0,"mat-header-cell",42),e._uU(1,"Total "),e.qZA())}function ae(t,l){if(1&t&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&t){const a=l.$implicit;e.xp6(1),e.hij(" ",a.total,"")}}function le(t,l){1&t&&(e.TgZ(0,"mat-header-cell",42),e._uU(1,"Used "),e.qZA())}function ne(t,l){if(1&t&&(e.TgZ(0,"mat-cell",46),e._uU(1),e.qZA()),2&t){const a=l.$implicit;e.xp6(1),e.hij(" ",a.used," ")}}function ie(t,l){1&t&&(e.TgZ(0,"mat-header-cell",42),e._uU(1,"Accepted "),e.qZA())}function oe(t,l){if(1&t&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&t){const a=l.$implicit;e.xp6(1),e.hij(" ",a.accepted," ")}}function se(t,l){1&t&&(e.TgZ(0,"mat-header-cell",42),e._uU(1,"Rejected "),e.qZA())}function ce(t,l){if(1&t&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&t){const a=l.$implicit;e.xp6(1),e.hij(" ",a.rejected," ")}}function re(t,l){1&t&&(e.TgZ(0,"mat-header-cell",42),e._uU(1,"Expired "),e.qZA())}function me(t,l){if(1&t&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&t){const a=l.$implicit;e.xp6(1),e.hij(" ",a.expired," ")}}function de(t,l){1&t&&(e.TgZ(0,"mat-header-cell",42),e._uU(1,"Carry Over "),e.qZA())}function pe(t,l){if(1&t&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&t){const a=l.$implicit;e.xp6(1),e.hij(" ",a.carryOver," ")}}function ue(t,l){1&t&&e._UZ(0,"mat-header-row")}function _e(t,l){1&t&&e._UZ(0,"mat-row",47),2&t&&e.Udp("cursor","pointer")}function he(t,l){1&t&&(e.TgZ(0,"div",48),e._UZ(1,"mat-progress-spinner",49),e.qZA()),2&t&&(e.xp6(1),e.Q6J("diameter",40))}function fe(t,l){if(1&t&&(e.TgZ(0,"div",50),e._uU(1," No results "),e.qZA()),2&t){const a=e.oxw();e.Udp("display",0===a.dataSource.renderedData.length?"":"none")}}const ge=function(){return["Leaves"]},ve=function(){return[5,10,25,100]};let Te=(()=>{class t extends Z.n{constructor(a,n,i,o){super(),this.httpClient=a,this.dialog=n,this.leavesService=i,this.snackBar=o,this.filterToggle=!1,this.displayedColumns=["img","name","prev","current","total","used","accepted","rejected","expired","carryOver"],this.selection=new g.Ov(!0,[]),this.contextMenuPosition={x:"0px",y:"0px"}}ngOnInit(){this.loadData()}toggleStar(a){console.log(a)}loadData(){this.exampleDatabase=new L(this.httpClient),this.dataSource=new Ze(this.exampleDatabase,this.paginator,this.sort),this.subs.sink=(0,U.R)(this.filter.nativeElement,"keyup").subscribe(()=>{this.dataSource&&(this.dataSource.filter=this.filter.nativeElement.value)})}}return t.\u0275fac=function(a){return new(a||t)(e.Y36(x.eN),e.Y36(p.uw),e.Y36(L),e.Y36(y.ux))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-leave-balance"]],viewQuery:function(a,n){if(1&a&&(e.Gf(f.NW,7),e.Gf(_.YE,7),e.Gf(H,7),e.Gf(h.p6,5)),2&a){let i;e.iGM(i=e.CRH())&&(n.paginator=i.first),e.iGM(i=e.CRH())&&(n.sort=i.first),e.iGM(i=e.CRH())&&(n.filter=i.first),e.iGM(i=e.CRH())&&(n.contextMenu=i.first)}},features:[e.qOj],decls:63,vars:14,consts:[[1,"content"],[1,"content-block"],[1,"block-header"],[3,"title","items","active_item"],[1,"row"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[1,"card"],[1,"body"],[1,"responsive_table"],[1,"materialTableHeader"],[1,"col-8"],[1,"header-buttons-left","ms-0"],[1,"tbl-title"],[1,"tbl-search-box"],["for","search-input"],[1,"material-icons","search-icon"],["placeholder","Search","type","text","aria-label","Search box",1,"browser-default","search-field"],["filter",""],["matSort","",1,"mat-cell",3,"dataSource"],["table",""],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","img"],["mat-header-cell","",3,"ngClass",4,"matHeaderCellDef"],["mat-cell","","class","table-img tbl-col-width-per-6",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","prev"],["matColumnDef","current"],["matColumnDef","total"],["matColumnDef","used"],["class","column-nowrap",4,"matCellDef"],["matColumnDef","accepted"],["matColumnDef","rejected"],["matColumnDef","expired"],["matColumnDef","carryOver"],[4,"matHeaderRowDef"],["matRipple","",3,"cursor",4,"matRowDef","matRowDefColumns"],["class","tbl-spinner",4,"ngIf"],["class","no-results",3,"display",4,"ngIf"],[3,"length","pageIndex","pageSize","pageSizeOptions"],["paginator",""],["mat-sort-header",""],["mat-header-cell","",3,"ngClass"],["mat-cell","",1,"table-img","tbl-col-width-per-6"],[3,"src"],[1,"column-nowrap"],["matRipple",""],[1,"tbl-spinner"],["color","primary","mode","indeterminate",3,"diameter"],[1,"no-results"]],template:function(a,n){1&a&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2),e._UZ(3,"app-breadcrumb",3),e.qZA(),e.TgZ(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",4)(11,"div",10)(12,"ul",11)(13,"li",12)(14,"h2"),e._uU(15,"Leave Balance"),e.qZA()(),e.TgZ(16,"li",13)(17,"label",14)(18,"i",15),e._uU(19,"search"),e.qZA()(),e._UZ(20,"input",16,17),e.qZA()()()()(),e.TgZ(22,"mat-table",18,19),e.ynx(24,20),e.YNc(25,E,2,0,"mat-header-cell",21),e.YNc(26,G,2,1,"mat-cell",22),e.BQk(),e.ynx(27,23),e.YNc(28,$,2,1,"mat-header-cell",24),e.YNc(29,z,2,1,"mat-cell",25),e.BQk(),e.ynx(30,26),e.YNc(31,P,2,0,"mat-header-cell",21),e.YNc(32,X,2,1,"mat-cell",22),e.BQk(),e.ynx(33,27),e.YNc(34,K,2,0,"mat-header-cell",21),e.YNc(35,W,2,1,"mat-cell",22),e.BQk(),e.ynx(36,28),e.YNc(37,V,2,0,"mat-header-cell",21),e.YNc(38,ee,2,1,"mat-cell",22),e.BQk(),e.ynx(39,29),e.YNc(40,te,2,0,"mat-header-cell",21),e.YNc(41,ae,2,1,"mat-cell",22),e.BQk(),e.ynx(42,30),e.YNc(43,le,2,0,"mat-header-cell",21),e.YNc(44,ne,2,1,"mat-cell",31),e.BQk(),e.ynx(45,32),e.YNc(46,ie,2,0,"mat-header-cell",21),e.YNc(47,oe,2,1,"mat-cell",22),e.BQk(),e.ynx(48,33),e.YNc(49,se,2,0,"mat-header-cell",21),e.YNc(50,ce,2,1,"mat-cell",22),e.BQk(),e.ynx(51,34),e.YNc(52,re,2,0,"mat-header-cell",21),e.YNc(53,me,2,1,"mat-cell",22),e.BQk(),e.ynx(54,35),e.YNc(55,de,2,0,"mat-header-cell",21),e.YNc(56,pe,2,1,"mat-cell",22),e.BQk(),e.YNc(57,ue,1,0,"mat-header-row",36),e.YNc(58,_e,1,2,"mat-row",37),e.qZA(),e.YNc(59,he,2,1,"div",38),e.YNc(60,fe,2,2,"div",39),e._UZ(61,"mat-paginator",40,41),e.qZA()()()()()()()),2&a&&(e.xp6(3),e.Q6J("title","Leave Balance")("items",e.DdM(12,ge))("active_item","Leave Balance"),e.xp6(19),e.Q6J("dataSource",n.dataSource),e.xp6(35),e.Q6J("matHeaderRowDef",n.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",n.displayedColumns),e.xp6(1),e.Q6J("ngIf",null==n.exampleDatabase?null:n.exampleDatabase.isTblLoading),e.xp6(1),e.Q6J("ngIf",!(null!=n.exampleDatabase&&n.exampleDatabase.isTblLoading)),e.xp6(1),e.Q6J("length",n.dataSource.filteredData.length)("pageIndex",0)("pageSize",10)("pageSizeOptions",e.DdM(13,ve)))},dependencies:[m.mk,m.O5,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,f.NW,_.YE,_.nU,D.Ou,k.L]}),t})();class Ze extends g.o2{get filter(){return this.filterChange.value}set filter(l){this.filterChange.next(l)}constructor(l,a,n){super(),this.exampleDatabase=l,this.paginator=a,this._sort=n,this.filterChange=new T.X(""),this.filteredData=[],this.renderedData=[],this.filterChange.subscribe(()=>this.paginator.pageIndex=0)}connect(){const l=[this.exampleDatabase.dataChange,this._sort.sortChange,this.filterChange,this.paginator.page];return this.exampleDatabase.getAllLeavess(),(0,w.T)(...l).pipe((0,N.U)(()=>{this.filteredData=this.exampleDatabase.data.slice().filter(i=>-1!==i.name.toLowerCase().indexOf(this.filter.toLowerCase()));const a=this.sortData(this.filteredData.slice());return this.renderedData=a.splice(this.paginator.pageIndex*this.paginator.pageSize,this.paginator.pageSize),this.renderedData}))}disconnect(){}sortData(l){return this._sort.active&&""!==this._sort.direction?l.sort((a,n)=>{let i="",o="";switch(this._sort.active){case"id":[i,o]=[a.id,n.id];break;case"name":[i,o]=[a.name,n.name];break;case"total":[i,o]=[a.total,n.total];break;case"used":[i,o]=[a.used,n.used];break;case"accepted":[i,o]=[a.accepted,n.accepted]}return((isNaN(+i)?i:+i)<(isNaN(+o)?o:+o)?-1:1)*("asc"===this._sort.direction?1:-1)}):l}}let C=(()=>{class t extends Z.n{constructor(a){super(),this.httpClient=a,this.API_URL="assets/data/leaves.json",this.isTblLoading=!0,this.dataChange=new T.X([])}get data(){return this.dataChange.value}getDialogData(){return this.dialogData}getAllLeavess(){this.subs.sink=this.httpClient.get(this.API_URL).subscribe({next:a=>{this.isTblLoading=!1,this.dataChange.next(a)},error:a=>{this.isTblLoading=!1,console.log(a.name+" "+a.message)}})}addLeaves(a){this.dialogData=a}updateLeaves(a){this.dialogData=a}deleteLeaves(a){console.log(a)}}return t.\u0275fac=function(a){return new(a||t)(e.LFG(x.eN))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})();class xe{constructor(l){this.id=l.id||this.getRandomID(),this.img=l.img||"assets/images/user/usrbig1.jpg",this.name=l.name||"",this.type=l.type||"",this.from=(0,m.p6)(new Date,"yyyy-MM-dd","en")||"",this.leaveTo=(0,m.p6)(new Date,"yyyy-MM-dd","en")||"",this.reason=l.reason||"",this.noOfDays=l.noOfDays||"",this.status=l.status||"",this.note=l.note||""}getRandomID(){const l=()=>65536*(1+Math.random())|0;return l()+l()}}var b=s(9549),B=s(4144),v=s(4859),q=s(7392),I=s(4385),Ce=s(3238),J=s(3546),A=s(9602);function be(t,l){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Name is required "),e.qZA())}function ye(t,l){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Please enter a valid type reason "),e.qZA())}function De(t,l){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Please select date "),e.qZA())}function qe(t,l){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Please select date "),e.qZA())}function Ae(t,l){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Employee Name is required "),e.qZA())}function Le(t,l){if(1&t){const a=e.EpF();e.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6),e._UZ(4,"img",7),e.TgZ(5,"div",8),e._uU(6),e.qZA()()(),e.TgZ(7,"button",9),e.NdJ("click",function(){e.CHM(a);const i=e.oxw();return e.KtG(i.dialogRef.close())}),e.TgZ(8,"mat-icon"),e._uU(9,"close"),e.qZA()()(),e.TgZ(10,"div",10)(11,"form",11),e.NdJ("ngSubmit",function(){e.CHM(a);const i=e.oxw();return e.KtG(i.submit)}),e.TgZ(12,"div",12)(13,"div",13)(14,"mat-form-field",14)(15,"mat-label"),e._uU(16,"Name"),e.qZA(),e._UZ(17,"input",15),e.TgZ(18,"i",16),e._uU(19,"face"),e.qZA(),e.YNc(20,be,2,0,"mat-error",17),e.qZA()(),e.TgZ(21,"div",13)(22,"mat-form-field",14)(23,"mat-label"),e._uU(24,"Leave Type"),e.qZA(),e._UZ(25,"input",18),e.TgZ(26,"i",16),e._uU(27,"spoke"),e.qZA(),e.YNc(28,ye,2,0,"mat-error",17),e.qZA()()(),e.TgZ(29,"div",12)(30,"div",13)(31,"mat-form-field",14)(32,"mat-label"),e._uU(33,"Leave From"),e.qZA(),e._UZ(34,"input",19)(35,"mat-datepicker-toggle",20)(36,"mat-datepicker",null,21),e.YNc(38,De,2,0,"mat-error",17),e.qZA()(),e.TgZ(39,"div",13)(40,"mat-form-field",14)(41,"mat-label"),e._uU(42,"Leave To"),e.qZA(),e._UZ(43,"input",22)(44,"mat-datepicker-toggle",20)(45,"mat-datepicker",null,23),e.YNc(47,qe,2,0,"mat-error",17),e.qZA()()(),e.TgZ(48,"div",12)(49,"div",13)(50,"mat-form-field",14)(51,"mat-label"),e._uU(52,"No Of Days"),e.qZA(),e._UZ(53,"input",24),e.qZA()(),e.TgZ(54,"div",13)(55,"mat-form-field",25)(56,"mat-label"),e._uU(57,"Status"),e.qZA(),e.TgZ(58,"mat-select",26)(59,"mat-option",27),e._uU(60," Approved "),e.qZA(),e.TgZ(61,"mat-option",27),e._uU(62," Rejected "),e.qZA()(),e.YNc(63,Ae,2,0,"mat-error",17),e.qZA()()(),e.TgZ(64,"div",12)(65,"div",28)(66,"mat-form-field",14)(67,"mat-label"),e._uU(68,"Reason"),e.qZA(),e._UZ(69,"textarea",29),e.qZA()()(),e.TgZ(70,"div",12)(71,"div",28)(72,"mat-form-field",14)(73,"mat-label"),e._uU(74,"Note"),e.qZA(),e._UZ(75,"textarea",30),e.qZA()()(),e.TgZ(76,"div",12)(77,"div",28)(78,"div",31)(79,"button",32),e.NdJ("click",function(){e.CHM(a);const i=e.oxw();return e.KtG(i.confirmAdd())}),e._uU(80,"Save"),e.qZA(),e.TgZ(81,"button",33),e.NdJ("click",function(){e.CHM(a);const i=e.oxw();return e.KtG(i.onNoClick())}),e._uU(82,"Cancel"),e.qZA()()()()()()()}if(2&t){const a=e.MAs(37),n=e.MAs(46),i=e.oxw();let o,r,u,O,j;e.xp6(4),e.Q6J("src",i.leaves.img,e.LSH),e.xp6(2),e.hij(" ",i.dialogTitle," "),e.xp6(5),e.Q6J("formGroup",i.leavesForm),e.xp6(9),e.Q6J("ngIf",null==(o=i.leavesForm.get("name"))?null:o.hasError("required")),e.xp6(8),e.Q6J("ngIf",(null==(r=i.leavesForm.get("type"))?null:r.hasError("required"))||(null==(r=i.leavesForm.get("type"))?null:r.touched)),e.xp6(6),e.Q6J("matDatepicker",a),e.xp6(1),e.Q6J("for",a),e.xp6(3),e.Q6J("ngIf",null==(u=i.leavesForm.get("from"))?null:u.hasError("required")),e.xp6(5),e.Q6J("matDatepicker",n),e.xp6(1),e.Q6J("for",n),e.xp6(3),e.Q6J("ngIf",null==(O=i.leavesForm.get("leaveTo"))?null:O.hasError("required")),e.xp6(12),e.Q6J("value","Approved"),e.xp6(2),e.Q6J("value","Rejected"),e.xp6(2),e.Q6J("ngIf",null==(j=i.leavesForm.get("status"))?null:j.hasError("required")),e.xp6(16),e.Q6J("disabled",!i.leavesForm.valid)("mat-dialog-close",1)}}function Ue(t,l){if(1&t){const a=e.EpF();e.TgZ(0,"div",34)(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",35)(5,"div",36),e._UZ(6,"img",7),e.qZA(),e.TgZ(7,"div",37)(8,"div",38),e._uU(9),e.qZA(),e.TgZ(10,"div",39),e._uU(11,"Manager"),e.qZA()()()()(),e.TgZ(12,"button",9),e.NdJ("click",function(){e.CHM(a);const i=e.oxw();return e.KtG(i.dialogRef.close())}),e.TgZ(13,"mat-icon"),e._uU(14,"close"),e.qZA()()(),e.TgZ(15,"div",10)(16,"mat-card-content")(17,"div",40)(18,"i",41),e._uU(19,"receipt"),e.qZA(),e.TgZ(20,"div",42),e._uU(21),e.qZA()(),e.TgZ(22,"div",40)(23,"i",41),e._uU(24,"today"),e.qZA(),e.TgZ(25,"div",42),e._uU(26),e.ALo(27,"date"),e.qZA()(),e.TgZ(28,"div",40)(29,"i",41),e._uU(30,"fact_check"),e.qZA(),e.TgZ(31,"div",42),e._uU(32),e.ALo(33,"date"),e.qZA()(),e.TgZ(34,"div",40)(35,"i",41),e._uU(36,"tag"),e.qZA(),e.TgZ(37,"div",42),e._uU(38),e.qZA()(),e.TgZ(39,"div",40)(40,"i",41),e._uU(41,"info"),e.qZA(),e.TgZ(42,"div",42),e._uU(43),e.qZA()(),e.TgZ(44,"div",40)(45,"i",41),e._uU(46,"description"),e.qZA(),e.TgZ(47,"div",42),e._uU(48),e.qZA()(),e.TgZ(49,"div",40)(50,"i",41),e._uU(51,"note"),e.qZA(),e.TgZ(52,"div",42),e._uU(53),e.qZA()()()()()}if(2&t){const a=e.oxw();e.xp6(6),e.Q6J("src",a.leaves.img,e.LSH),e.xp6(3),e.Oqu(a.leaves.name),e.xp6(12),e.hij(" ",a.leaves.type," "),e.xp6(5),e.hij(" ",e.xi3(27,9,a.leaves.from,"MMMM d, yyyy")," "),e.xp6(6),e.hij(" ",e.xi3(33,12,a.leaves.leaveTo,"MMMM d, yyyy")," "),e.xp6(6),e.hij(" ",a.leaves.noOfDays," "),e.xp6(5),e.hij(" ",a.leaves.status," "),e.xp6(5),e.hij(" ",a.leaves.reason," "),e.xp6(5),e.hij(" ",a.leaves.note," ")}}let R=(()=>{class t{constructor(a,n,i,o){this.dialogRef=a,this.data=n,this.leavesService=i,this.fb=o,this.isDetails=!1,this.formControl=new d.p4("",[d.kI.required]),this.action=n.action,"edit"===this.action?(this.isDetails=!1,this.dialogTitle=n.leaves.name,this.leaves=n.leaves,this.leavesForm=this.createContactForm()):"details"===this.action?(this.leaves=n.leaves,this.isDetails=!0):(this.isDetails=!1,this.dialogTitle="New Leaves",this.leaves=new xe({}),this.leavesForm=this.createContactForm())}getErrorMessage(){return this.formControl.hasError("required")?"Required field":this.formControl.hasError("type")?"Not a valid type":""}createContactForm(){return this.fb.group({id:[this.leaves.id],img:[this.leaves.img],name:[this.leaves.name],type:[this.leaves.type,[d.kI.required,d.kI.minLength(5)]],from:[(0,m.p6)(this.leaves.from,"yyyy-MM-dd","en"),[d.kI.required]],leaveTo:[(0,m.p6)(this.leaves.leaveTo,"yyyy-MM-dd","en"),[d.kI.required]],reason:[this.leaves.reason],noOfDays:[this.leaves.noOfDays],status:[this.leaves.status],note:[this.leaves.note]})}submit(){}onNoClick(){this.dialogRef.close()}confirmAdd(){this.leavesService.addLeaves(this.leavesForm?.getRawValue())}}return t.\u0275fac=function(a){return new(a||t)(e.Y36(p.so),e.Y36(p.WI),e.Y36(C),e.Y36(d.QS))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-form"]],decls:3,vars:2,consts:[[1,"addContainer"],["class","contact-form",4,"ngIf"],["class","contact-details",4,"ngIf"],[1,"contact-form"],[1,"modalHeader"],[1,"editRowModal"],[1,"modalHeader","clearfix"],["alt","avatar",3,"src"],[1,"modal-about"],["mat-icon-button","","aria-label","Close dialog",1,"modal-close-button",3,"click"],["mat-dialog-content",""],[1,"register-form","m-4",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-xl-6","col-lg-6","col-md-12","col-sm-12","mb-2"],["appearance","outline",1,"example-full-width","mb-3"],["matInput","","formControlName","name","required",""],["matSuffix","",1,"material-icons-two-tone","color-icon"],[4,"ngIf"],["matInput","","formControlName","type","required",""],["matInput","","formControlName","from",3,"matDatepicker"],["matSuffix","",3,"for"],["picker2",""],["matInput","","formControlName","leaveTo",3,"matDatepicker"],["picker",""],["matInput","","formControlName","noOfDays","required",""],["appearance","outline",1,"example-full-width"],["formControlName","status","required",""],[3,"value"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","mb-2"],["matInput","","formControlName","reason"],["matInput","","formControlName","note"],["align","end",1,"example-button-row"],["mat-raised-button","","color","primary",3,"disabled","mat-dialog-close","click"],["mat-raised-button","","color","warn","tabindex","-1",3,"click"],[1,"contact-details"],[1,"modal-about","contact-header"],[1,"contact-details-img"],[1,"contact-details-heading"],[1,"contact-details-name","mb-2"],[1,"badge","col-green","ms-2"],[1,"contact-details-field"],[1,"material-icons-two-tone","color-icon"],[1,"contact-detail-info"]],template:function(a,n){1&a&&(e.TgZ(0,"div",0),e.YNc(1,Le,83,16,"div",1),e.YNc(2,Ue,54,15,"div",2),e.qZA()),2&a&&(e.xp6(1),e.Q6J("ngIf",!n.isDetails),e.xp6(1),e.Q6J("ngIf",n.isDetails))},dependencies:[m.O5,d._Y,d.Fj,d.JJ,d.JL,d.Q7,d.sg,d.u,b.KE,b.hX,b.TO,b.R9,B.Nt,v.lW,v.RK,q.Hw,I.gD,Ce.ey,J.dn,A.Mq,A.hl,A.nW,p.ZT,p.xY,m.uU]}),t})(),we=(()=>{class t{constructor(a,n,i){this.dialogRef=a,this.data=n,this.leavesService=i}onNoClick(){this.dialogRef.close()}confirmDelete(){this.leavesService.deleteLeaves(this.data.id)}}return t.\u0275fac=function(a){return new(a||t)(e.Y36(p.so),e.Y36(p.WI),e.Y36(C))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-delete"]],decls:26,vars:6,consts:[[1,"container"],["mat-dialog-title",""],["mat-dialog-content",""],[1,"clearfix"],[1,"font-weight-bold"],["mat-dialog-actions","",1,"mb-1"],["mat-flat-button","","color","warn",3,"mat-dialog-close","click"],["mat-flat-button","","tabindex","-1",3,"click"]],template:function(a,n){1&a&&(e.TgZ(0,"div",0)(1,"h3",1),e._uU(2,"Are you sure?"),e.qZA(),e.TgZ(3,"div",2)(4,"ul",3)(5,"li")(6,"p")(7,"span",4),e._uU(8," Name: "),e.qZA(),e._uU(9),e.qZA()(),e.TgZ(10,"li")(11,"p")(12,"span",4),e._uU(13," Leave Type: "),e.qZA(),e._uU(14),e.qZA()(),e.TgZ(15,"li")(16,"p")(17,"span",4),e._uU(18,"From: "),e.qZA(),e._uU(19),e.ALo(20,"date"),e.qZA()()()(),e.TgZ(21,"div",5)(22,"button",6),e.NdJ("click",function(){return n.confirmDelete()}),e._uU(23," Delete "),e.qZA(),e.TgZ(24,"button",7),e.NdJ("click",function(){return n.onNoClick()}),e._uU(25,"Cancel"),e.qZA()()()),2&a&&(e.xp6(9),e.Oqu(n.data.name),e.xp6(5),e.Oqu(n.data.type),e.xp6(5),e.hij("",e.lcZ(20,4,n.data.from)," "),e.xp6(3),e.Q6J("mat-dialog-close",1))},dependencies:[v.lW,p.ZT,p.uh,p.xY,p.H8,m.uU]}),t})();var Ne=s(6035),M=s(6709),F=s(266);const ke=["filter"];function Re(t,l){if(1&t){const a=e.EpF();e.TgZ(0,"mat-header-cell",59)(1,"mat-checkbox",60),e.NdJ("change",function(i){e.CHM(a);const o=e.oxw();return e.KtG(i?o.masterToggle():null)}),e.qZA()()}if(2&t){const a=e.oxw();e.Q6J("ngClass","tbl-col-width-per-6"),e.xp6(1),e.Q6J("checked",a.selection.hasValue()&&a.isAllSelected())("indeterminate",a.selection.hasValue()&&!a.isAllSelected())("ngClass","tbl-checkbox")}}function Se(t,l){if(1&t){const a=e.EpF();e.TgZ(0,"mat-cell",59)(1,"mat-checkbox",61),e.NdJ("click",function(i){return i.stopPropagation()})("change",function(i){const r=e.CHM(a).$implicit,u=e.oxw();return e.KtG(i?u.selection.toggle(r):null)}),e.qZA()()}if(2&t){const a=l.$implicit,n=e.oxw();e.Q6J("ngClass","tbl-col-width-per-6"),e.xp6(1),e.Q6J("checked",n.selection.isSelected(a))("ngClass","tbl-checkbox")}}function Ye(t,l){1&t&&(e.TgZ(0,"mat-header-cell",62),e._uU(1,"Id "),e.qZA())}function Qe(t,l){if(1&t&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&t){const a=l.$implicit;e.xp6(1),e.Oqu(a.id)}}function Be(t,l){1&t&&(e.TgZ(0,"mat-header-cell",63),e._uU(1," Image "),e.qZA()),2&t&&e.Q6J("ngClass","tbl-col-width-per-6")}function Ie(t,l){if(1&t&&(e.TgZ(0,"mat-cell",64),e._UZ(1,"img",65),e.qZA()),2&t){const a=l.$implicit;e.xp6(1),e.Q6J("src",a.img,e.LSH)}}function Je(t,l){1&t&&(e.TgZ(0,"mat-header-cell",62),e._uU(1,"Name "),e.qZA())}function Me(t,l){if(1&t&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&t){const a=l.$implicit;e.xp6(1),e.hij(" ",a.name," ")}}function Fe(t,l){1&t&&(e.TgZ(0,"mat-header-cell",62),e._uU(1,"Leave From "),e.qZA())}function Oe(t,l){if(1&t&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"date"),e.qZA()),2&t){const a=l.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,a.from,"MM/dd/yyyy")," ")}}function je(t,l){1&t&&(e.TgZ(0,"mat-header-cell",62),e._uU(1,"Leave Type "),e.qZA())}function He(t,l){if(1&t&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&t){const a=l.$implicit;e.xp6(1),e.hij(" ",a.type," ")}}function Ee(t,l){1&t&&(e.TgZ(0,"mat-header-cell",62),e._uU(1,"Leave To "),e.qZA())}function Ge(t,l){if(1&t&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"date"),e.qZA()),2&t){const a=l.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,a.leaveTo,"MM/dd/yyyy"),"")}}function $e(t,l){1&t&&(e.TgZ(0,"mat-header-cell",62),e._uU(1,"No Of Days "),e.qZA())}function ze(t,l){if(1&t&&(e.TgZ(0,"mat-cell",66),e._uU(1),e.qZA()),2&t){const a=l.$implicit;e.xp6(1),e.hij(" ",a.noOfDays," ")}}function Pe(t,l){1&t&&(e.TgZ(0,"mat-header-cell",62),e._uU(1," Status "),e.qZA())}function Xe(t,l){if(1&t&&(e.TgZ(0,"div")(1,"span",69),e._uU(2),e.qZA()()),2&t){const a=e.oxw().$implicit;e.xp6(2),e.hij(" ",a.status,"")}}function Ke(t,l){if(1&t&&(e.TgZ(0,"div")(1,"span",70),e._uU(2),e.qZA()()),2&t){const a=e.oxw().$implicit;e.xp6(2),e.hij(" ",a.status,"")}}function We(t,l){if(1&t&&(e.TgZ(0,"mat-cell",67),e.YNc(1,Xe,3,1,"div",68),e.YNc(2,Ke,3,1,"div",68),e.qZA()),2&t){const a=l.$implicit;e.xp6(1),e.Q6J("ngIf","Approved"===a.status),e.xp6(1),e.Q6J("ngIf","Rejected"===a.status)}}function Ve(t,l){1&t&&(e.TgZ(0,"mat-header-cell",62),e._uU(1,"Reason "),e.qZA())}function et(t,l){if(1&t&&(e.TgZ(0,"mat-cell",66)(1,"span",71),e._uU(2),e.qZA()()),2&t){const a=l.$implicit;e.xp6(2),e.Oqu(a.reason)}}function tt(t,l){1&t&&(e.TgZ(0,"mat-header-cell",62),e._uU(1,"Note "),e.qZA())}function at(t,l){if(1&t&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&t){const a=l.$implicit;e.xp6(1),e.hij(" ",a.note," ")}}function lt(t,l){1&t&&(e.TgZ(0,"mat-header-cell",72),e._uU(1," Actions "),e.qZA())}function nt(t,l){if(1&t){const a=e.EpF();e.TgZ(0,"mat-cell",72)(1,"button",73),e.NdJ("click",function(i){return i.stopPropagation()}),e.TgZ(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",null,74)(6,"button",75),e.NdJ("click",function(){const o=e.CHM(a).$implicit,r=e.oxw();return e.KtG(r.editCall(o))}),e.TgZ(7,"i",76),e._uU(8,"create"),e.qZA(),e.TgZ(9,"span"),e._uU(10,"Edit Contact"),e.qZA()(),e.TgZ(11,"button",75),e.NdJ("click",function(){const o=e.CHM(a).$implicit,r=e.oxw();return e.KtG(r.deleteItem(o))}),e.TgZ(12,"i",76),e._uU(13,"delete_forever"),e.qZA(),e.TgZ(14,"span"),e._uU(15,"Delete Contact"),e.qZA()()()()}if(2&t){const a=e.MAs(5);e.xp6(1),e.Q6J("matMenuTriggerFor",a)}}function it(t,l){1&t&&e._UZ(0,"mat-header-row")}function ot(t,l){if(1&t){const a=e.EpF();e.TgZ(0,"mat-row",77),e.NdJ("click",function(){const o=e.CHM(a).$implicit,r=e.oxw();return e.KtG(r.detailsCall(o))}),e.qZA()}2&t&&e.Udp("cursor","pointer")}function st(t,l){1&t&&(e.TgZ(0,"div",78),e._UZ(1,"mat-progress-spinner",79),e.qZA()),2&t&&(e.xp6(1),e.Q6J("diameter",40))}function ct(t,l){if(1&t&&(e.TgZ(0,"div",80),e._uU(1," No results "),e.qZA()),2&t){const a=e.oxw();e.Udp("display",0===a.dataSource.renderedData.length?"":"none")}}const rt=function(){return["Leaves"]},mt=function(){return[5,10,25,100]};let dt=(()=>{class t extends Z.n{constructor(a,n,i,o){super(),this.httpClient=a,this.dialog=n,this.leavesService=i,this.snackBar=o,this.filterToggle=!1,this.displayedColumns=["select","img","name","type","from","leaveTo","noOfDays","status","reason","actions"],this.selection=new g.Ov(!0,[]),this.contextMenuPosition={x:"0px",y:"0px"}}ngOnInit(){this.loadData()}refresh(){this.loadData()}addNew(){let a;a="true"===localStorage.getItem("isRtl")?"rtl":"ltr";const n=this.dialog.open(R,{data:{leaves:this.leaves,action:"add"},direction:a});this.subs.sink=n.afterClosed().subscribe(i=>{1===i&&(this.exampleDatabase?.dataChange.value.unshift(this.leavesService.getDialogData()),this.refreshTable(),this.showNotification("snackbar-success","Add Record Successfully...!!!","bottom","center"))})}detailsCall(a){this.dialog.open(R,{data:{leaves:a,action:"details"},height:"80%",width:"45%"})}toggleStar(a){console.log(a)}editCall(a){let n;this.id=a.id,n="true"===localStorage.getItem("isRtl")?"rtl":"ltr";const i=this.dialog.open(R,{data:{leaves:a,action:"edit"},direction:n});this.subs.sink=i.afterClosed().subscribe(o=>{if(1===o){const r=this.exampleDatabase?.dataChange.value.findIndex(u=>u.id===this.id);void 0!==r&&void 0!==this.exampleDatabase&&(this.exampleDatabase.dataChange.value[r]=this.leavesService.getDialogData(),this.refreshTable(),this.showNotification("black","Edit Record Successfully...!!!","bottom","center"))}})}deleteItem(a){let n;this.id=a.id,n="true"===localStorage.getItem("isRtl")?"rtl":"ltr";const i=this.dialog.open(we,{height:"250px",width:"300px",data:a,direction:n});this.subs.sink=i.afterClosed().subscribe(o=>{if(1===o){const r=this.exampleDatabase?.dataChange.value.findIndex(u=>u.id===this.id);void 0!==r&&this.exampleDatabase&&(this.exampleDatabase.dataChange.value.splice(r,1),this.refreshTable(),this.showNotification("snackbar-danger","Delete Record Successfully...!!!","bottom","center"))}})}refreshTable(){this.paginator._changePageSize(this.paginator.pageSize)}isAllSelected(){const n=this.dataSource?.renderedData.length;return this.selection.selected.length===n}masterToggle(){this.isAllSelected()?this.selection.clear():this.dataSource?.renderedData.forEach(a=>this.selection.select(a))}removeSelectedRows(){const a=this.selection.selected.length;this.selection.selected.forEach(n=>{const i=this.dataSource?.renderedData.findIndex(o=>o===n);this.exampleDatabase?.dataChange.value.splice(i,1),this.refreshTable(),this.selection=new g.Ov(!0,[])}),this.showNotification("snackbar-danger",a+" Record Delete Successfully...!!!","bottom","center")}loadData(){this.exampleDatabase=new C(this.httpClient),this.dataSource=new pt(this.exampleDatabase,this.paginator,this.sort),this.subs.sink=(0,U.R)(this.filter.nativeElement,"keyup").subscribe(()=>{this.dataSource&&(this.dataSource.filter=this.filter.nativeElement.value)})}exportExcel(){const a=this.dataSource.filteredData.map(n=>({Name:n.name,"Leave Type":n.type,"Leave From":(0,m.p6)(new Date(n.from),"yyyy-MM-dd","en")||"","Leave To":(0,m.p6)(new Date(n.leaveTo),"yyyy-MM-dd","en")||"","No Of Days":n.noOfDays,Status:n.status,Reason:n.reason}));Ne.c.exportToExcel(a,"excel")}showNotification(a,n,i,o){this.snackBar.open(n,"",{duration:2e3,verticalPosition:i,horizontalPosition:o,panelClass:a})}}return t.\u0275fac=function(a){return new(a||t)(e.Y36(x.eN),e.Y36(p.uw),e.Y36(C),e.Y36(y.ux))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-leave-requests"]],viewQuery:function(a,n){if(1&a&&(e.Gf(f.NW,7),e.Gf(_.YE,7),e.Gf(ke,7),e.Gf(h.p6,5)),2&a){let i;e.iGM(i=e.CRH())&&(n.paginator=i.first),e.iGM(i=e.CRH())&&(n.sort=i.first),e.iGM(i=e.CRH())&&(n.filter=i.first),e.iGM(i=e.CRH())&&(n.contextMenu=i.first)}},features:[e.qOj],decls:86,vars:15,consts:[[1,"content"],[1,"content-block"],[1,"block-header"],[3,"title","items","active_item"],[1,"row"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[1,"card"],[1,"body"],[1,"responsive_table"],[1,"materialTableHeader"],[1,"col-8"],[1,"header-buttons-left","ms-0"],[1,"tbl-title"],[1,"tbl-search-box"],["for","search-input"],[1,"material-icons","search-icon"],["placeholder","Search","type","text","aria-label","Search box",1,"browser-default","search-field"],["filter",""],[1,"tbl-header-btn"],["matTooltip","ADD",1,"m-l-10"],["mat-mini-fab","","color","primary",3,"click"],[1,"col-white"],["matTooltip","REFRESH",1,"m-l-10"],["matTooltip","DELETE",1,"m-l-10",3,"hidden"],["mat-mini-fab","","color","warn",3,"click"],[1,"col-4"],[1,"tbl-export-btn"],["matTooltip","XLSX",1,"export-button","m-l-10"],["src","assets/images/icons/xlsx.png","alt","",3,"click"],["matSort","",1,"mat-cell",3,"dataSource"],["table",""],["matColumnDef","select"],[3,"ngClass",4,"matHeaderCellDef"],[3,"ngClass",4,"matCellDef"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","img"],["mat-header-cell","",3,"ngClass",4,"matHeaderCellDef"],["mat-cell","","class","table-img tbl-col-width-per-6",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","from"],["matColumnDef","type"],["matColumnDef","leaveTo"],["matColumnDef","noOfDays"],["class","column-nowrap",4,"matCellDef"],["matColumnDef","status"],["mat-cell","",4,"matCellDef"],["matColumnDef","reason"],["matColumnDef","note"],["matColumnDef","actions"],["class","psl-3 tbl-col-width-per-10",4,"matHeaderCellDef"],["class","psl-3 tbl-col-width-per-10",4,"matCellDef"],[4,"matHeaderRowDef"],["matRipple","",3,"cursor","click",4,"matRowDef","matRowDefColumns"],["class","tbl-spinner",4,"ngIf"],["class","no-results",3,"display",4,"ngIf"],[3,"length","pageIndex","pageSize","pageSizeOptions"],["paginator",""],[3,"ngClass"],[3,"checked","indeterminate","ngClass","change"],[3,"checked","ngClass","click","change"],["mat-sort-header",""],["mat-header-cell","",3,"ngClass"],["mat-cell","",1,"table-img","tbl-col-width-per-6"],[3,"src"],[1,"column-nowrap"],["mat-cell",""],[4,"ngIf"],[1,"badge","badge-pill","badge-primary","col-green"],[1,"badge","badge-pill","badge-primary","col-red"],[1,"truncate-text"],[1,"psl-3","tbl-col-width-per-10"],["mat-icon-button","",3,"matMenuTriggerFor","click"],["menu","matMenu"],["mat-menu-item","",3,"click"],[1,"material-icons-two-tone","align-middle","msr-2"],["matRipple","",3,"click"],[1,"tbl-spinner"],["color","primary","mode","indeterminate",3,"diameter"],[1,"no-results"]],template:function(a,n){1&a&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2),e._UZ(3,"app-breadcrumb",3),e.qZA(),e.TgZ(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",4)(11,"div",10)(12,"ul",11)(13,"li",12)(14,"h2"),e._uU(15,"Leave Requests"),e.qZA()(),e.TgZ(16,"li",13)(17,"label",14)(18,"i",15),e._uU(19,"search"),e.qZA()(),e._UZ(20,"input",16,17),e.qZA(),e.TgZ(22,"li",18)(23,"div",19)(24,"button",20),e.NdJ("click",function(){return n.addNew()}),e.TgZ(25,"mat-icon",21),e._uU(26,"add"),e.qZA()()()(),e.TgZ(27,"li",18)(28,"div",22)(29,"button",20),e.NdJ("click",function(){return n.refresh()}),e.TgZ(30,"mat-icon",21),e._uU(31,"refresh"),e.qZA()()()(),e.TgZ(32,"li",18)(33,"div",23)(34,"button",24),e.NdJ("click",function(){return n.removeSelectedRows()}),e.TgZ(35,"mat-icon",21),e._uU(36,"delete "),e.qZA()()()()()(),e.TgZ(37,"div",25)(38,"ul",26)(39,"li")(40,"div",27)(41,"img",28),e.NdJ("click",function(){return n.exportExcel()}),e.qZA()()()()()()(),e.TgZ(42,"mat-table",29,30),e.ynx(44,31),e.YNc(45,Re,2,4,"mat-header-cell",32),e.YNc(46,Se,2,3,"mat-cell",33),e.BQk(),e.ynx(47,34),e.YNc(48,Ye,2,0,"mat-header-cell",35),e.YNc(49,Qe,2,1,"mat-cell",36),e.BQk(),e.ynx(50,37),e.YNc(51,Be,2,1,"mat-header-cell",38),e.YNc(52,Ie,2,1,"mat-cell",39),e.BQk(),e.ynx(53,40),e.YNc(54,Je,2,0,"mat-header-cell",35),e.YNc(55,Me,2,1,"mat-cell",36),e.BQk(),e.ynx(56,41),e.YNc(57,Fe,2,0,"mat-header-cell",35),e.YNc(58,Oe,3,4,"mat-cell",36),e.BQk(),e.ynx(59,42),e.YNc(60,je,2,0,"mat-header-cell",35),e.YNc(61,He,2,1,"mat-cell",36),e.BQk(),e.ynx(62,43),e.YNc(63,Ee,2,0,"mat-header-cell",35),e.YNc(64,Ge,3,4,"mat-cell",36),e.BQk(),e.ynx(65,44),e.YNc(66,$e,2,0,"mat-header-cell",35),e.YNc(67,ze,2,1,"mat-cell",45),e.BQk(),e.ynx(68,46),e.YNc(69,Pe,2,0,"mat-header-cell",35),e.YNc(70,We,3,2,"mat-cell",47),e.BQk(),e.ynx(71,48),e.YNc(72,Ve,2,0,"mat-header-cell",35),e.YNc(73,et,3,1,"mat-cell",45),e.BQk(),e.ynx(74,49),e.YNc(75,tt,2,0,"mat-header-cell",35),e.YNc(76,at,2,1,"mat-cell",36),e.BQk(),e.ynx(77,50),e.YNc(78,lt,2,0,"mat-header-cell",51),e.YNc(79,nt,16,1,"mat-cell",52),e.BQk(),e.YNc(80,it,1,0,"mat-header-row",53),e.YNc(81,ot,1,2,"mat-row",54),e.qZA(),e.YNc(82,st,2,1,"div",55),e.YNc(83,ct,2,2,"div",56),e._UZ(84,"mat-paginator",57,58),e.qZA()()()()()()()),2&a&&(e.xp6(3),e.Q6J("title","Leave Requests")("items",e.DdM(13,rt))("active_item","Leave Requests"),e.xp6(30),e.Q6J("hidden",!n.selection.hasValue()),e.xp6(9),e.Q6J("dataSource",n.dataSource),e.xp6(38),e.Q6J("matHeaderRowDef",n.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",n.displayedColumns),e.xp6(1),e.Q6J("ngIf",null==n.exampleDatabase?null:n.exampleDatabase.isTblLoading),e.xp6(1),e.Q6J("ngIf",!(null!=n.exampleDatabase&&n.exampleDatabase.isTblLoading)),e.xp6(1),e.Q6J("length",n.dataSource.filteredData.length)("pageIndex",0)("pageSize",10)("pageSizeOptions",e.DdM(14,mt)))},dependencies:[m.mk,m.O5,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,f.NW,v.RK,v.nh,q.Hw,M.oG,_.YE,_.nU,F.gM,h.VK,h.OP,h.p6,D.Ou,k.L,m.uU]}),t})();class pt extends g.o2{get filter(){return this.filterChange.value}set filter(l){this.filterChange.next(l)}constructor(l,a,n){super(),this.exampleDatabase=l,this.paginator=a,this._sort=n,this.filterChange=new T.X(""),this.filteredData=[],this.renderedData=[],this.filterChange.subscribe(()=>this.paginator.pageIndex=0)}connect(){const l=[this.exampleDatabase.dataChange,this._sort.sortChange,this.filterChange,this.paginator.page];return this.exampleDatabase.getAllLeavess(),(0,w.T)(...l).pipe((0,N.U)(()=>{this.filteredData=this.exampleDatabase.data.slice().filter(i=>-1!==(i.name+i.leaveTo+i.type+i.from+i.status+i.reason).toLowerCase().indexOf(this.filter.toLowerCase()));const a=this.sortData(this.filteredData.slice());return this.renderedData=a.splice(this.paginator.pageIndex*this.paginator.pageSize,this.paginator.pageSize),this.renderedData}))}disconnect(){}sortData(l){return this._sort.active&&""!==this._sort.direction?l.sort((a,n)=>{let i="",o="";switch(this._sort.active){case"id":[i,o]=[a.id,n.id];break;case"name":[i,o]=[a.name,n.name];break;case"type":[i,o]=[a.type,n.type];break;case"leaveTo":[i,o]=[a.leaveTo,n.leaveTo];break;case"status":[i,o]=[a.status,n.status];break;case"reason":[i,o]=[a.reason,n.reason]}return((isNaN(+i)?i:+i)<(isNaN(+o)?o:+o)?-1:1)*("asc"===this._sort.direction?1:-1)}):l}}let S=(()=>{class t extends Z.n{constructor(a){super(),this.httpClient=a,this.API_URL="assets/data/leave-types.json",this.isTblLoading=!0,this.dataChange=new T.X([])}get data(){return this.dataChange.value}getDialogData(){return this.dialogData}getAllLeavess(){this.subs.sink=this.httpClient.get(this.API_URL).subscribe({next:a=>{this.isTblLoading=!1,this.dataChange.next(a)},error:a=>{this.isTblLoading=!1,console.log(a.name+" "+a.message)}})}}return t.\u0275fac=function(a){return new(a||t)(e.LFG(x.eN))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})();const ut=["filter"];function _t(t,l){1&t&&(e.TgZ(0,"mat-header-cell",41),e._uU(1,"Id "),e.qZA())}function ht(t,l){if(1&t&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&t){const a=l.$implicit;e.xp6(1),e.Oqu(a.id)}}function ft(t,l){1&t&&(e.TgZ(0,"mat-header-cell",41),e._uU(1,"Leave Name "),e.qZA())}function gt(t,l){if(1&t&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&t){const a=l.$implicit;e.xp6(1),e.hij(" ",a.leave_name," ")}}function vt(t,l){1&t&&(e.TgZ(0,"mat-header-cell",41),e._uU(1,"Leave Type "),e.qZA())}function Tt(t,l){if(1&t&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&t){const a=l.$implicit;e.xp6(1),e.hij(" ",a.type," ")}}function Zt(t,l){1&t&&(e.TgZ(0,"mat-header-cell",41),e._uU(1,"Leave Unit "),e.qZA())}function xt(t,l){if(1&t&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&t){const a=l.$implicit;e.xp6(1),e.hij(" ",a.leave_unit," ")}}function Ct(t,l){1&t&&(e.TgZ(0,"mat-header-cell",41),e._uU(1," Status "),e.qZA())}function bt(t,l){if(1&t&&(e.TgZ(0,"div")(1,"span",44),e._uU(2),e.qZA()()),2&t){const a=e.oxw().$implicit;e.xp6(2),e.hij(" ",a.status,"")}}function yt(t,l){if(1&t&&(e.TgZ(0,"div")(1,"span",45),e._uU(2),e.qZA()()),2&t){const a=e.oxw().$implicit;e.xp6(2),e.hij(" ",a.status,"")}}function Dt(t,l){if(1&t&&(e.TgZ(0,"mat-cell",42),e.YNc(1,bt,3,1,"div",43),e.YNc(2,yt,3,1,"div",43),e.qZA()),2&t){const a=l.$implicit;e.xp6(1),e.Q6J("ngIf","Active"===a.status),e.xp6(1),e.Q6J("ngIf","Deactive"===a.status)}}function qt(t,l){1&t&&(e.TgZ(0,"mat-header-cell",41),e._uU(1,"Note "),e.qZA())}function At(t,l){if(1&t&&(e.TgZ(0,"mat-cell",46)(1,"span",47),e._uU(2),e.qZA()()),2&t){const a=l.$implicit;e.xp6(2),e.Oqu(a.note)}}function Lt(t,l){1&t&&(e.TgZ(0,"mat-header-cell",48),e._uU(1," Actions "),e.qZA())}function Ut(t,l){if(1&t&&(e.TgZ(0,"mat-cell",48)(1,"button",49),e.NdJ("click",function(n){return n.stopPropagation()}),e.TgZ(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",null,50)(6,"button",51)(7,"i",52),e._uU(8,"create"),e.qZA(),e.TgZ(9,"span"),e._uU(10,"Edit Contact"),e.qZA()(),e.TgZ(11,"button",51)(12,"i",52),e._uU(13,"delete_forever"),e.qZA(),e.TgZ(14,"span"),e._uU(15,"Delete Contact"),e.qZA()()()()),2&t){const a=e.MAs(5);e.xp6(1),e.Q6J("matMenuTriggerFor",a)}}function wt(t,l){1&t&&e._UZ(0,"mat-header-row")}function Nt(t,l){1&t&&e._UZ(0,"mat-row",53),2&t&&e.Udp("cursor","pointer")}function kt(t,l){1&t&&(e.TgZ(0,"div",54),e._UZ(1,"mat-progress-spinner",55),e.qZA()),2&t&&(e.xp6(1),e.Q6J("diameter",40))}function Rt(t,l){if(1&t&&(e.TgZ(0,"div",56),e._uU(1," No results "),e.qZA()),2&t){const a=e.oxw();e.Udp("display",0===a.dataSource.renderedData.length?"":"none")}}const St=function(){return["Leaves"]},Yt=function(){return[5,10,25,100]};let Qt=(()=>{class t extends Z.n{constructor(a,n,i,o){super(),this.httpClient=a,this.dialog=n,this.leavesService=i,this.snackBar=o,this.filterToggle=!1,this.displayedColumns=["leave_name","type","leave_unit","status","note","actions"],this.selection=new g.Ov(!0,[]),this.contextMenuPosition={x:"0px",y:"0px"}}ngOnInit(){this.loadData()}toggleStar(a){console.log(a)}loadData(){this.exampleDatabase=new S(this.httpClient),this.dataSource=new Bt(this.exampleDatabase,this.paginator,this.sort),this.subs.sink=(0,U.R)(this.filter.nativeElement,"keyup").subscribe(()=>{this.dataSource&&(this.dataSource.filter=this.filter.nativeElement.value)})}}return t.\u0275fac=function(a){return new(a||t)(e.Y36(x.eN),e.Y36(p.uw),e.Y36(S),e.Y36(y.ux))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-leave-types"]],viewQuery:function(a,n){if(1&a&&(e.Gf(f.NW,7),e.Gf(_.YE,7),e.Gf(ut,7),e.Gf(h.p6,5)),2&a){let i;e.iGM(i=e.CRH())&&(n.paginator=i.first),e.iGM(i=e.CRH())&&(n.sort=i.first),e.iGM(i=e.CRH())&&(n.filter=i.first),e.iGM(i=e.CRH())&&(n.contextMenu=i.first)}},features:[e.qOj],decls:54,vars:14,consts:[[1,"content"],[1,"content-block"],[1,"block-header"],[3,"title","items","active_item"],[1,"row"],[1,"col-md-12"],[1,"tabbable-line"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[1,"card"],[1,"body"],[1,"responsive_table"],[1,"materialTableHeader"],[1,"col-8"],[1,"header-buttons-left","ms-0"],[1,"tbl-title"],[1,"tbl-search-box"],["for","search-input"],[1,"material-icons","search-icon"],["placeholder","Search","type","text","aria-label","Search box",1,"browser-default","search-field"],["filter",""],["matSort","",1,"mat-cell",3,"dataSource"],["table",""],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","leave_name"],["matColumnDef","type"],["matColumnDef","leave_unit"],["matColumnDef","status"],["mat-cell","",4,"matCellDef"],["matColumnDef","note"],["class","column-nowrap",4,"matCellDef"],["matColumnDef","actions"],["class","psl-3 tbl-col-width-per-10",4,"matHeaderCellDef"],["class","psl-3 tbl-col-width-per-10",4,"matCellDef"],[4,"matHeaderRowDef"],["matRipple","",3,"cursor",4,"matRowDef","matRowDefColumns"],["class","tbl-spinner",4,"ngIf"],["class","no-results",3,"display",4,"ngIf"],[3,"length","pageIndex","pageSize","pageSizeOptions"],["paginator",""],["mat-sort-header",""],["mat-cell",""],[4,"ngIf"],[1,"badge","badge-pill","badge-primary","col-green"],[1,"badge","badge-pill","badge-primary","col-red"],[1,"column-nowrap"],[1,"truncate-text"],[1,"psl-3","tbl-col-width-per-10"],["mat-icon-button","",3,"matMenuTriggerFor","click"],["menu","matMenu"],["mat-menu-item",""],[1,"material-icons-two-tone","align-middle","msr-2"],["matRipple",""],[1,"tbl-spinner"],["color","primary","mode","indeterminate",3,"diameter"],[1,"no-results"]],template:function(a,n){1&a&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2),e._UZ(3,"app-breadcrumb",3),e.qZA(),e.TgZ(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",4)(8,"div",7)(9,"div",8)(10,"div",9)(11,"div",10)(12,"div",11)(13,"div",4)(14,"div",12)(15,"ul",13)(16,"li",14)(17,"h2"),e._uU(18,"Leave Types"),e.qZA()(),e.TgZ(19,"li",15)(20,"label",16)(21,"i",17),e._uU(22,"search"),e.qZA()(),e._UZ(23,"input",18,19),e.qZA()()()()(),e.TgZ(25,"mat-table",20,21),e.ynx(27,22),e.YNc(28,_t,2,0,"mat-header-cell",23),e.YNc(29,ht,2,1,"mat-cell",24),e.BQk(),e.ynx(30,25),e.YNc(31,ft,2,0,"mat-header-cell",23),e.YNc(32,gt,2,1,"mat-cell",24),e.BQk(),e.ynx(33,26),e.YNc(34,vt,2,0,"mat-header-cell",23),e.YNc(35,Tt,2,1,"mat-cell",24),e.BQk(),e.ynx(36,27),e.YNc(37,Zt,2,0,"mat-header-cell",23),e.YNc(38,xt,2,1,"mat-cell",24),e.BQk(),e.ynx(39,28),e.YNc(40,Ct,2,0,"mat-header-cell",23),e.YNc(41,Dt,3,2,"mat-cell",29),e.BQk(),e.ynx(42,30),e.YNc(43,qt,2,0,"mat-header-cell",23),e.YNc(44,At,3,1,"mat-cell",31),e.BQk(),e.ynx(45,32),e.YNc(46,Lt,2,0,"mat-header-cell",33),e.YNc(47,Ut,16,1,"mat-cell",34),e.BQk(),e.YNc(48,wt,1,0,"mat-header-row",35),e.YNc(49,Nt,1,2,"mat-row",36),e.qZA(),e.YNc(50,kt,2,1,"div",37),e.YNc(51,Rt,2,2,"div",38),e._UZ(52,"mat-paginator",39,40),e.qZA()()()()()()()()()()),2&a&&(e.xp6(3),e.Q6J("title","Leave Types")("items",e.DdM(12,St))("active_item","Leave Types"),e.xp6(22),e.Q6J("dataSource",n.dataSource),e.xp6(23),e.Q6J("matHeaderRowDef",n.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",n.displayedColumns),e.xp6(1),e.Q6J("ngIf",null==n.exampleDatabase?null:n.exampleDatabase.isTblLoading),e.xp6(1),e.Q6J("ngIf",!(null!=n.exampleDatabase&&n.exampleDatabase.isTblLoading)),e.xp6(1),e.Q6J("length",n.dataSource.filteredData.length)("pageIndex",0)("pageSize",10)("pageSizeOptions",e.DdM(13,Yt)))},dependencies:[m.O5,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,f.NW,v.RK,q.Hw,_.YE,_.nU,h.VK,h.OP,h.p6,D.Ou,k.L]}),t})();class Bt extends g.o2{get filter(){return this.filterChange.value}set filter(l){this.filterChange.next(l)}constructor(l,a,n){super(),this.exampleDatabase=l,this.paginator=a,this._sort=n,this.filterChange=new T.X(""),this.filteredData=[],this.renderedData=[],this.filterChange.subscribe(()=>this.paginator.pageIndex=0)}connect(){const l=[this.exampleDatabase.dataChange,this._sort.sortChange,this.filterChange,this.paginator.page];return this.exampleDatabase.getAllLeavess(),(0,w.T)(...l).pipe((0,N.U)(()=>{this.filteredData=this.exampleDatabase.data.slice().filter(i=>-1!==(i.leave_name+i.leave_unit+i.type+i.status).toLowerCase().indexOf(this.filter.toLowerCase()));const a=this.sortData(this.filteredData.slice());return this.renderedData=a.splice(this.paginator.pageIndex*this.paginator.pageSize,this.paginator.pageSize),this.renderedData}))}disconnect(){}sortData(l){return this._sort.active&&""!==this._sort.direction?l.sort((a,n)=>{let i="",o="";switch(this._sort.active){case"id":[i,o]=[a.id,n.id];break;case"leave_name":[i,o]=[a.leave_name,n.leave_name];break;case"type":[i,o]=[a.type,n.type];break;case"leaveTo":[i,o]=[a.leave_unit,n.leave_unit];break;case"status":[i,o]=[a.status,n.status]}return((isNaN(+i)?i:+i)<(isNaN(+o)?o:+o)?-1:1)*("asc"===this._sort.direction?1:-1)}):l}}const It=[{path:"leave-requests",component:dt},{path:"leave-balance",component:Te},{path:"leave-types",component:Qt}];let Jt=(()=>{class t{}return t.\u0275fac=function(a){return new(a||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[Q.Bz.forChild(It),Q.Bz]}),t})();var Mt=s(1948),Ft=s(3683),Ot=s(5626);let jt=(()=>{class t{}return t.\u0275fac=function(a){return new(a||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({providers:[C,L,S],imports:[m.ez,Jt,m.ez,d.u5,d.UX,c.p0,f.TU,b.lN,B.c,y.ZX,v.ot,q.Ps,Mt.Fk,I.LD,M.p9,J.QW,A.FA,p.Is,_.JX,F.AV,Ft.g0,h.Tx,D.Cq,Ot.K]}),t})()}}]);